import os # Diccionario de hexagramas (del script original) HEXAGRAMS = { "111111": "1 - Ch'ien (Lo Creativo)", "000000": "2 - K'un (Lo Receptivo)", "100010": "3 - Chun (La Dificultad Inicial)", "010001": "4 - Meng (La Necedad Juvenil)", "111010": "5 - Xu (La Espera)", "010111": "6 - Song (El Conflicto)", "010000": "7 - Shi (El Ejército)", "000010": "8 - Bi (La Unión)", "111011": "9 - Xiao Chu (La Fuerza Domesticadora Pequeña)", "110111": "10 - Lü (La Conducta)", "111000": "11 - Tai (La Paz)", "000111": "12 - Pi (El Estancamiento)", "101111": "13 - Tong Ren (La Comunidad)", "111101": "14 - Da You (La Posesión de lo Grande)", "001000": "15 - Qian (La Modestia)", "000100": "16 - Yu (El Entusiasmo)", "100110": "17 - Sui (El Seguimiento)", "011001": "18 - Gu (La Reparación)", "110000": "19 - Lin (El Acercamiento)", "000011": "20 - Guan (La Contemplación)", "100101": "21 - Shi He (Morder y Masticar)", "101001": "22 - Bi (La Gracia)", "000001": "23 - Bo (La Desintegración)", "100000": "24 - Fu (El Retorno)", "100111": "25 - Wu Wang (La Inocencia)", "111001": "26 - Da Chu (La Fuerza Domesticadora Grande)", "100001": "27 - Yi (La Nutrición)", "011110": "28 - Da Guo (La Preponderancia de lo Grande)", "010010": "29 - Kan (El Abismo)", "101101": "30 - Li (El Fuego)", "011100": "31 - Xian (La Influencia)", "001110": "32 - Heng (La Duración)", "001111": "33 - Dun (La Retirada)", "111100": "34 - Da Zhuang (El Poder de lo Grande)", "000101": "35 - Jin (El Progreso)", "101000": "36 - Ming Yi (El Oscurecimiento de la Luz)", "101011": "37 - Jia Ren (La Familia)", "110101": "38 - Kui (La Oposición)", "001010": "39 - Jian (El Obstáculo)", "010100": "40 - Xie (La Liberación)", "110001": "41 - Sun (La Disminución)", "100011": "42 - Yi (El Aumento)", "111110": "43 - Guai (La Resolución)", "011111": "44 - Gou (El Encuentro)", "011000": "45 - Cui (La Reunión)", "000110": "46 - Sheng (El Ascenso)", "011010": "47 - Kun (La Opresión)", "010110": "48 - Jing (El Pozo)", "101110": "49 - Ge (La Revolución)", "011101": "50 - Ding (El Caldero)", "100100": "51 - Zhen (El Trueno)", "001001": "52 - Gen (La Quietud)", "110100": "53 - Jian (El Desarrollo Gradual)", "001101": "54 - Gui Mei (La Doncella)", "101100": "55 - Feng (La Abundancia)", "001011": "56 - Lü (El Viajero)", "011011": "57 - Xun (El Viento)", "110110": "58 - Dui (La Alegría)", "011001": "59 - Huan (La Dispersión)", "100110": "60 - Jie (La Limitación)", "110011": "61 - Zhong Fu (La Verdad Interior)", "001100": "62 - Xiao Guo (La Preponderancia de lo Pequeño)", "101010": "63 - Ji Ji (Después de la Consumación)", "010101": "64 - Wei Ji (Antes de la Consumación)" } # Tiradas para cada hexagrama THROWS = { 1: [9,9,9,9,9,9], 2: [6,6,6,6,6,6], 3: [9,8,8,8,6,7], 4: [7,8,8,8,6,9], 5: [9,7,6,7,7,9], 6: [7,6,7,7,7,9], 7: [7,8,8,8,6,7], 8: [6,8,8,8,9,7], 9: [9,7,6,7,7,9], 10: [9,7,7,7,6,9], 11: [7,7,7,8,8,9], 12: [6,6,6,7,7,7], 13: [9,7,7,7,6,9], 14: [9,7,6,7,7,9], 15: [6,8,7,8,8,7], 16: [6,8,8,7,8,7], 17: [9,8,7,6,8,7], 18: [7,6,8,8,6,9], 19: [7,8,8,8,6,9], 20: [6,6,8,8,7,7], 21: [9,8,7,6,8,7], 22: [9,8,8,6,8,7], 23: [6,8,8,8,8,9], 24: [9,8,8,8,8,6], 25: [9,7,7,6,8,7], 26: [9,8,8,7,7,9], 27: [9,8,8,8,8,9], 28: [7,6,7,7,6,8], 29: [7,6,8,8,6,7], 30: [9,8,7,6,8,9], 31: [7,8,7,7,6,8], 32: [6,7,7,7,8,8], 33: [6,7,7,7,7,9], 34: [7,7,7,7,6,9], 35: [6,8,7,6,8,7], 36: [7,8,8,7,8,9], 37: [9,7,6,8,8,7], 38: [9,8,7,6,8,9], 39: [6,8,7,8,6,7], 40: [7,8,8,7,6,7], 41: [9,8,8,8,6,9], 42: [9,7,6,8,8,7], 43: [7,6,7,7,7,9], 44: [6,7,7,7,7,9], 45: [7,8,8,7,6,8], 46: [6,6,7,7,8,8], 47: [7,6,8,7,6,8], 48: [7,6,7,7,6,8], 49: [9,6,7,7,8,7], 50: [7,8,7,6,7,9], 51: [9,8,8,7,8,6], 52: [6,8,8,6,8,9], 53: [7,8,8,7,6,9], 54: [6,8,7,6,8,9], 55: [7,8,7,7,8,9], 56: [6,7,6,8,8,7], 57: [7,7,6,8,7,9], 58: [9,6,7,7,6,8], 59: [7,6,8,8,7,9], 60: [9,6,7,6,8,7], 61: [9,7,6,8,7,9], 62: [6,8,7,7,8,8], 63: [9,6,7,6,8,7], 64: [7,6,7,6,7,6] } # Descripciones de los hexagramas (principales) DESCRIPTIONS = { 1: "El cielo puro impulsa la creación con fuerza Yang. Todo es posible bajo su energía dinámica.\nConsejo: Actúa con audacia y claridad, el momento favorece la iniciativa.", 2: "La tierra nutre todo con energía Yin, abierta y receptiva. Es un tiempo de apoyo y paciencia.\nConsejo: Sé adaptable y espera el momento adecuado.", 3: "Un brote lucha por salir del caos inicial. Los comienzos son duros pero llenos de potencial.\nConsejo: Persiste y busca aliados para superar los obstáculos.", 4: "La juventud busca sabiduría bajo la montaña. La inexperiencia pide guía.\nConsejo: Aprende con humildad de quienes saben más.", 5: "La lluvia se reúne sobre el abismo. La espera trae claridad si se mantiene la calma.\nConsejo: Prepárate con paciencia para el momento justo.", 6: "El conflicto surge entre cielo y agua. Las tensiones buscan resolución.\nConsejo: Negocia con justicia y evita la confrontación directa.", 7: "El ejército se organiza desde la tierra. La fuerza requiere dirección.\nConsejo: Lidera con disciplina y estrategia clara.", 8: "La unión fluye como agua sobre la tierra. La armonía depende de la sinceridad.\nConsejo: Busca aliados con corazón abierto.", 9: "Pequeñas fuerzas doman con suavidad bajo el cielo. El progreso es sutil.\nConsejo: Actúa con moderación y consistencia.", 10: "Pisar con cuidado bajo el cielo. El peligro acecha, pero el respeto prevalece.\nConsejo: Avanza con prudencia y cortesía.", 11: "La paz une cielo y tierra en armonía. Todo fluye en equilibrio.\nConsejo: Fomenta la cooperación y el bienestar común.", 12: "El estancamiento separa cielo y tierra. La discordia bloquea el progreso.\nConsejo: Retírate y espera un cambio favorable.", 13: "La comunidad brilla en el cielo. Los lazos humanos fortalecen el propósito.\nConsejo: Une a otros con ideales compartidos.", 14: "Gran posesión arde con fuerza celestial. La abundancia llega con poder.\nConsejo: Gestiona tus recursos con sabiduría.", 15: "La modestia equilibra tierra y montaña. La humildad trae éxito duradero.\nConsejo: Mantén un perfil bajo incluso en la victoria.", 16: "El entusiasmo truena desde la tierra. La alegría impulsa la acción.\nConsejo: Inspira con energía y movimiento.", 17: "Seguir el flujo del lago y el trueno. La adaptación lleva al éxito.\nConsejo: Sigue la corriente con flexibilidad.", 18: "Reparar lo podrido bajo el viento. El pasado necesita atención.\nConsejo: Corrige errores con cuidado y decisión.", 19: "El acercamiento de la tierra al lago. La influencia crece con generosidad.\nConsejo: Acércate con apertura y apoyo.", 20: "Contemplar desde lo alto como el viento. La visión clara guía el camino.\nConsejo: Reflexiona antes de actuar.", 21: "Morder con trueno y fuego. La justicia corta a través de los obstáculos.\nConsejo: Enfrenta los problemas con firmeza.", 22: "La gracia adorna la montaña con fuego. La belleza realza la forma.\nConsejo: Combina fondo y forma con armonía.", 23: "La montaña colapsa sobre la tierra. Todo se deshace en su momento.\nConsejo: Acepta la pérdida y prepárate para renovar.", 24: "El retorno truena desde la tierra. Un nuevo ciclo comienza.\nConsejo: Regresa al origen con fuerza renovada.", 25: "Inocencia bajo el cielo y el trueno. La espontaneidad trae claridad.\nConsejo: Actúa con pureza y sin cálculos.", 26: "Gran fuerza doma en la montaña. El poder se acumula con control.\nConsejo: Restriega tu fuerza con sabiduría.", 27: "Nutrir desde las fauces de la montaña. El sustento es esencial.\nConsejo: Cuida cuerpo y espíritu con equilibrio.", 28: "El peso del lago doblega el viento. La carga excede lo soportable.\nConsejo: Reconoce tus límites y busca salida.", 29: "El abismo del agua fluye profundo. El peligro acecha en la repetición.\nConsejo: Afronta los riesgos con cautela y aprendizaje.", 30: "El fuego brilla doblemente claro. La luz depende de su combustible.\nConsejo: Mantén tu claridad con recursos constantes.", 31: "La influencia une lago y montaña. La atracción abre caminos.\nConsejo: Conecta con suavidad y sinceridad.", 32: "La duración truena en el viento. La constancia sostiene el éxito.\nConsejo: Persiste con firmeza a través del cambio.", 33: "La retirada asciende a la montaña. El repliegue preserva la fuerza.\nConsejo: Retrocede con estrategia, no con miedo.", 34: "El poder grande resuena en el cielo. La fuerza está en su apogeo.\nConsejo: Usa tu autoridad con justicia.", 35: "El progreso brilla sobre la tierra. El avance ilumina el camino.\nConsejo: Aprovecha la claridad para crecer.", 36: "La luz se oculta en la tierra. El brillo debe protegerse.\nConsejo: Guarda tu esencia en tiempos oscuros.", 37: "La familia arde con viento y fuego. La unión fortalece el hogar.\nConsejo: Cultiva lazos con calidez y orden.", 38: "La oposición brilla en lago y fuego. Las diferencias generan tensión.\nConsejo: Acepta contrastes y busca equilibrio.", 39: "El obstáculo se alza como montaña. El camino está bloqueado.\nConsejo: Reflexiona y encuentra una ruta alterna.", 40: "La liberación truena sobre el agua. Las tensiones se disuelven.\nConsejo: Suelta lo viejo y avanza libre.", 41: "La disminución calma la montaña. Reducir trae paz.\nConsejo: Simplifica con intención y desapego.", 42: "El aumento truena desde el viento. La ganancia fortalece el momento.\nConsejo: Crece con generosidad y visión.", 43: "La resolución rompe desde el cielo. La verdad corta como un cuchillo.\nConsejo: Decide con valentía y claridad.", 44: "El encuentro sopla bajo el cielo. Lo sutil se infiltra inesperadamente.\nConsejo: Sé cauto con influencias ocultas.", 45: "La reunión se forma en el lago. La unión colectiva trae fuerza.\nConsejo: Participa con propósito compartido.", 46: "El ascenso crece desde la tierra. El esfuerzo eleva gradualmente.\nConsejo: Sube con paciencia y constancia.", 47: "La opresión agota en el lago. Las limitaciones prueban el espíritu.\nConsejo: Resiste con fortaleza interna.", 48: "El pozo nutre desde el agua. La fuente sostiene a todos.\nConsejo: Profundiza en lo esencial para compartir.", 49: "La revolución arde en el lago. El cambio radical transforma.\nConsejo: Abraza la renovación con decisión.", 50: "El caldero cocina con fuego y viento. La transformación eleva lo ordinario.\nConsejo: Refina con cuidado y propósito.", 51: "El trueno sacude doblemente fuerte. El impacto despierta.\nConsejo: Abraza el cambio con coraje.", 52: "La quietud se alza en la montaña. La calma interna prevalece.\nConsejo: Encuentra paz en la inmovilidad.", 53: "El desarrollo gradual crece en la montaña. El progreso avanza paso a paso.\nConsejo: Sé paciente en tu ascenso.", 54: "La doncella truena bajo el lago. Las intenciones deben alinearse.\nConsejo: Actúa con cautela en asuntos del corazón.", 55: "La abundancia brilla con trueno y fuego. La plenitud es brillante pero fugaz.\nConsejo: Disfruta pero prepárate para el cambio.", 56: "El viajero vaga en la montaña. La soledad marca el camino.\nConsejo: Sé adaptable y ligero en lo desconocido.", 57: "El viento penetra suavemente. La influencia crece con sutileza.\nConsejo: Avanza con persistencia calma.", 58: "La alegría fluye en el lago doble. El placer une a todos.\nConsejo: Comparte felicidad con autenticidad.", 59: "La dispersión sopla sobre el agua. Las barreras se disuelven.\nConsejo: Libera lo rígido con claridad.", 60: "La limitación mide el lago. Los límites dan forma al flujo.\nConsejo: Establece fronteras justas.", 61: "La verdad interior brilla en el lago. La sinceridad conecta profundamente.\nConsejo: Confía en tu intuición y honestidad.", 62: "Lo pequeño prevalece en la montaña. Los detalles importan.\nConsejo: Sé meticuloso y discreto.", 63: "Tras la consumación, todo está en orden. El equilibrio es frágil.\nConsejo: Mantén la vigilancia para preservar.", 64: "Antes de la consumación, el caos persiste. El final está cerca pero incompleto.\nConsejo: Mantén el enfoque hasta el cierre." } # Significados de las líneas cambiantes (específicos por hexagrama) LINE_MEANINGS = { 1: { 9: lambda l: f"Hexagram 1, Line {l} (9 - Changing Yang)\n" + { 1: "El dragón se oculta en las profundidades. El poder aún no se muestra.\nConsejo: Prepárate en silencio para el ascenso.", 2: "El dragón aparece en el campo. La influencia comienza a crecer.\nConsejo: Actúa con humildad y conecta con otros.", 3: "El dragón vuela con cautela. El esfuerzo requiere equilibrio.\nConsejo: Sé prudente para mantener el ritmo.", 4: "El dragón salta al abismo o al cielo. Un momento decisivo llega.\nConsejo: Arriésgate con confianza.", 5: "El dragón reina en los cielos. La grandeza inspira a todos.\nConsejo: Lidera con visión y generosidad.", 6: "El dragón cae por soberbia. El exceso trae arrepentimiento.\nConsejo: Retírate antes de perder todo." }[l] }, 2: { 6: lambda l: f"Hexagram 2, Line {l} (6 - Changing Yin)\n" + { 1: "El hielo se forma bajo la escarcha. El peligro se avecina sutilmente.\nConsejo: Actúa pronto para evitar problemas.", 2: "La tierra se extiende vasta y firme. La estabilidad sostiene todo.\nConsejo: Persiste con paciencia y fuerza.", 3: "El mérito se oculta pero brilla después. La modestia guarda el valor.\nConsejo: Trabaja sin buscar aplauso.", 4: "Un saco atado asegura la paz. La discreción protege.\nConsejo: Mantén tus planes en reserva.", 5: "Una falda amarilla trae honor. La sencillez atrae respeto.\nConsejo: Sé humilde y auténtico.", 6: "Dragones luchan en la llanura. El conflicto agota la calma.\nConsejo: Busca paz para evitar pérdidas." }[l] }, 3: { 9: lambda l: f"Hexagram 3, Line {l} (9 - Changing Yang)\n" + { 1: "Un tropiezo detiene el avance. Los inicios necesitan apoyo.\nConsejo: Busca un guía para empezar." }[l] if l == 1 else "Línea no cambiante en esta tirada.", 6: lambda l: f"Hexagram 3, Line {l} (6 - Changing Yin)\n" + { 5: "Pequeños pasos vacilan sin ayuda. El progreso pide colaboración.\nConsejo: Acepta apoyo para avanzar." }[l] if l == 5 else "Línea no cambiante en esta tirada." }, 4: { 6: lambda l: f"Hexagram 4, Line {l} (6 - Changing Yin)\n" + { 5: "La inocencia infantil trae fortuna. La confianza abre puertas.\nConsejo: Acércate con sinceridad." }[l] if l == 5 else "Línea no cambiante en esta tirada.", 9: lambda l: f"Hexagram 4, Line {l} (9 - Changing Yang)\n" + { 6: "Castigar la necedad daña. La severidad frena el crecimiento.\nConsejo: Corrige con suavidad." }[l] if l == 6 else "Línea no cambiante en esta tirada." }, # Continúa para los 64 hexagramas... # Para simplificar aquí, usaré un enfoque genérico para el resto y te daré la lógica } # Función para obtener significados de líneas (con genéricos si no específicos) def get_line_meaning(hex_num, line_num, throw_value): if hex_num in LINE_MEANINGS and throw_value in LINE_MEANINGS[hex_num]: try: return LINE_MEANINGS[hex_num][throw_value](line_num) except KeyError: pass # Genérico por posición si no hay específico if throw_value == 6: meanings = { 1: "Un inicio frágil pide cuidado.\nConsejo: Actúa con precaución inicial.", 2: "La duda surge en lo humano.\nConsejo: Busca apoyo para estabilizarte.", 3: "El centro tiembla bajo presión.\nConsejo: Mantén la calma en la tormenta.", 4: "El cambio toca el poder.\nConsejo: Adáptate con flexibilidad.", 5: "La cima se tambalea.\nConsejo: Ajusta con sabiduría en lo alto.", 6: "El final se desmorona.\nConsejo: Cierra con cuidado para evitar caos." } return f"Hexagram {hex_num}, Line {line_num} (6 - Changing Yin)\n{meanings.get(line_num, 'Cambio sutil emerge.\nConsejo: Adáptate con calma.')}" elif throw_value == 9: meanings = { 1: "La fuerza despierta al inicio.\nConsejo: Da el primer paso con firmeza.", 2: "El poder crece en la base.\nConsejo: Influye con moderación.", 3: "La energía alcanza un clímax.\nConsejo: Equilibra acción y cautela.", 4: "La autoridad se prueba.\nConsejo: Decide con claridad y fuerza.", 5: "El liderazgo brilla arriba.\nConsejo: Guía con visión clara.", 6: "El exceso corona el final.\nConsejo: Retrocede para preservar ganancias." } return f"Hexagram {hex_num}, Line {line_num} (9 - Changing Yang)\n{meanings.get(line_num, 'Fuerza cambia con ímpetu.\nConsejo: Actúa decisivamente.')}" return "" # Crear los archivos os.makedirs("db", exist_ok=True) for num, throw in THROWS.items(): binary = [k for k, v in HEXAGRAMS.items() if v.startswith(f"{num} - ")][0] name = HEXAGRAMS[binary] with open(f"db/{num}.txt", "w", encoding="utf-8") as f: f.write(f"Hexagram {name}\n\n{DESCRIPTIONS[num]}") for i, val in enumerate(throw, 1): if val in [6, 9]: with open(f"db/{num}_{i}.txt", "w", encoding="utf-8") as f: f.write(get_line_meaning(num, i, val)) print("Archivos creados en ./db/. Ejecuta 'zip -r iching_db.zip db/' para comprimir.")